<app-notification></app-notification>

<div class="events-container">
  <div class="event-card" *ngFor="let event of paginatedEvents">
    <h3>{{ event.label }}</h3>
    <p><strong>Début :</strong> {{ event.startDate | date }}</p>
    <p><strong>Fin :</strong> {{ event.endDate | date }}</p>
    <p><strong>Nombre d'artistes associés :</strong> {{ event.artists.length }}</p>

    <!-- On affiche les 2 premiers artistes présent à un évènement -->
    <p><strong>Artistes :</strong></p>

    <p *ngIf="event.artists.length === 0">
      Aucun artiste associé
    </p>

    <p *ngIf="event.artists.length > 0">
      <span *ngFor="let artist of event.artists | slice:0:2; let i = index">
        {{ artist.label }}<span *ngIf="i === 0 && event.artists.length > 1"> , </span>
      </span>

      <span *ngIf="event.artists.length > 2">
        + {{ event.artists.length - 2 }} artiste(s)
      </span>
    </p>

    <a [routerLink]="[event.id]" class="details-btn">Voir détails</a>
  </div>
</div>


<!-- Pagination -->
<div class="pagination" *ngIf="totalPages > 1">
  <button (click)="previousPage()" [disabled]="currentPage === 1">◀ Précédent</button>

  <span>Page {{ currentPage }} / {{ totalPages }}</span>

  <button (click)="nextPage()" [disabled]="currentPage === totalPages">Suivant ▶</button>
</div>

<!-- Bouton ajouter -->
<button class="add-events" (click)="navigateToAddEvent()">
  Ajouter un évènement
</button>